<!DOCTYPE html>
<html>
	<head>
		<title>The Underhives of Necromunda</title>
		<meta http-equiv='Content-Type' content='text/html; charset=utf-8'>
		<style>
			label{float:left;text-align:left;width:150px;}
			li {list-style:none;}
		</style>
	</head>
	<body>
	<div>
	The Underhives of Necromunda
	</div>
	<br>
		<input type='button' value='RED-MED' id='red-med' onclick="callCFunction(this)">
		<input type='button' value='GREEN-MED' id='green-med' onclick="callCFunction(this)">
		<input type='button' value='PURPLE-SLOW' id='purple-slow' onclick="callCFunction(this)">
		<input type='button' value='USER-1' id='user-1' onclick="callCFunction(this)">
		<input type='button' value='USER-2' id='user-2' onclick="callCFunction(this)">
		<input type='button' value='USER-3' id='user-3' onclick="callCFunction(this)">
		<input type='button' value='STOP' id='stop' onclick="callCFunction(this)">
	<script>
	function callCFunction(o)  {
		let seq_data = {
			sequence: String(o.value)
		}
		let jsonData = JSON.stringify(seq_data);
		console.log(jsonData)  // this works ... how to get to c callback in server.on?
		fetch('/api/button', {
			method: 'POST',
			headers: { 'Content-Type': 'application/json' },
			body: jsonData
		})
		.then(response => response.text())
		.then(result => console.log(result))
		.catch(error => console.error('Error:', error));
	}
	</script>
</html>

